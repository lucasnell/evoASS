\section*{Appendix B: Two-trait equilibrium solutions}

\renewcommand{\thefigure}{B\arabic{figure}}
\renewcommand{\theequation}{B\arabic{equation}}
\renewcommand{\thetable}{B\arabic{table}}
\setcounter{equation}{0}
\setcounter{figure}{0}
\setcounter{table}{0}


For these solutions, we will no longer use matrix notation.
Also, since all traits have the same costs, benefits, and
non-additive effects, solutions for trait 1 and 2 are the same.
Only solutions for trait 1 are presented.
We use a hat to distinguish equilibrium values
($\hat{Z}$ for parameter $Z$).
Lastly, because $\mathbf{C}$ is symmetrical, only has 2 rows and columns, and
differs only on the off-diagonals, there is only one $\eta$ value.


\subsection*{Trait values}

The two traits for species $i$ change as follows:

\begin{equation*}
\begin{split}
    v_{i1,t+1} &= v_{i1,t} + 2 \; \sigma^2
    \left[
        \alpha_0 \; \Omega_{i,t} \;
            \textrm{e}^{-v_{i1,t}^2 - v_{i2,t}^2} \; v_{i1,t}
        - f \; ( v_{i1,t} + \eta \; v_{i2,t} )
    \right] \\
    v_{i2,t+1} &= v_{i2,t} + 2 \; \sigma^2
    \left[
        \alpha_0 \; \Omega_{i,t} \;
            \textrm{e}^{-v_{i2,t}^2 - v_{i1,t}^2} \; v_{i2,t}
        - f \; ( v_{i2,t} + \eta \; v_{i1,t} )
    \right] \\
    \Omega_{i,t} &\equiv N_{i,t} +
        \sum_{j \ne i}^{n}{ N_{j,t} \; \textrm{e}^{
                - d_1 v_{j1,t}^2 - d_2 v_{j2,t}^2 } }
    \textrm{.}
\end{split}
\end{equation*}


We'll now drop indices for species and time because we are
focusing on just one species and time point.


At equilibrium (assuming that $\sigma > 0$),

\begin{equation}
\begin{split}
    0 &= \alpha_0 \; \hat{\Omega} \;
            \textrm{e}^{-\hat{v}_{1}^2 - \hat{v}_{2}^2} \; \hat{v}_{1}
        - f \; ( \hat{v}_{1} + \eta \; \hat{v}_{2} ) \\
    0 &=
        \alpha_0 \; \hat{\Omega} \;
            \textrm{e}^{-\hat{v}_{2}^2 - \hat{v}_{1}^2} \; \hat{v}_{2}
        - f \; ( \hat{v}_{2} + \eta \; \hat{v}_{1} )
    \textrm{.}
\end{split}
\label{eq:two-traits-v-eq1}
\end{equation}


\noindent Thus, we have

\begin{equation*}
\begin{split}
    \alpha_0 \; \hat{\Omega} \; \textrm{e}^{-\hat{v}_{1}^2 - \hat{v}_{2}^2} &=
        \frac{ f \; ( \hat{v}_{1} + \eta \; \hat{v}_{2} ) }{ \hat{v}_{1} } \\
    \alpha_0 \; \hat{\Omega} \; \textrm{e}^{-\hat{v}_{1}^2 - \hat{v}_{2}^2} &=
        \frac{ f \; ( \hat{v}_{2} + \eta \; \hat{v}_{1} ) }{ \hat{v}_{2} }
    \textrm{.}
\end{split}
\end{equation*}


\noindent Combining these leads to

\begin{equation*}
\begin{split}
    f \; ( \hat{v}_{1} + \eta \; \hat{v}_{2} ) \; \hat{v}_{2} &=
        f \; ( \hat{v}_{2} + \eta \; \hat{v}_{1} ) \; \hat{v}_{1} \\
    f \hat{v}_{1} \hat{v}_{2} + \eta \hat{v}_{2}^2 &=
        f \hat{v}_{1} \hat{v}_{2} + \eta \hat{v}_{1}^2 \\
    \eta \hat{v}_{2}^2 &= \eta \hat{v}_{1}^2 \\
    \hat{v}_{1} &= \hat{v}_{2}
    \textrm{.}
\end{split}
\end{equation*}

Since all $v$ must be $\ge 0$ (hence no $\pm$ in the equation above),
either $\hat{v}_{1} = \hat{v}_{2}$ or not (when $\eta = 0$).
Plugging in $\hat{v}_{1} = \hat{v}_{2}$ into equation \ref{eq:two-traits-v-eq1}
gives us

\begin{equation*}
\begin{split}
    0 &= \alpha_0 \; \hat{\Omega} \; \textrm{e}^{-2 \; \hat{v}_{1}^2 } \; \hat{v}_{1}
        - f \; ( \hat{v}_{1} + \eta \; \hat{v}_{1} ) \\
    &= \hat{v}_{1} \left[ \alpha_0 \; \hat{\Omega} \; \textrm{e}^{-2 \; \hat{v}_{1}^2 }
        - f \; ( 1 + \eta ) \right]
    \textrm{.}
\end{split}
\end{equation*}

\noindent One solution is $\hat{v}_{1} = 0$, but if $\hat{v}_{1} \ne 0$


\begin{equation}
\begin{split}
    \alpha_0 \; \hat{\Omega} \; \textrm{e}^{-2 \; \hat{v}_{1}^2 } &=
        f \; ( 1 + \eta ) \\
    -2 \; \hat{v}_{1}^2 &=
        \log \left( \frac{ f \; ( 1 + \eta ) }{ \alpha_0 \; \hat{\Omega} } \right) \\
    \hat{v}_{1} &= \sqrt{\frac{1}{2}
        \log \left( \frac{ \alpha_0 \; \hat{\Omega} }{ f \; ( 1 + \eta ) } \right) }
    \textrm{.}
\end{split}
\label{eq:two-traits-v-eq5}
\end{equation}



When $\eta = 0$ and at least one of the two traits $\ne 0$,
traits are constrained by their distance
from the origin: $\sqrt{\hat{v}_{1}^2 + \hat{v}_{2}^2}$.
When $\hat{v}_{1} \ne 0$, this distance is

\begin{equation*}
\begin{split}
    0 &= \alpha_0 \; \hat{\Omega} \;
            \textrm{e}^{-\hat{v}_{1}^2 - \hat{v}_{2}^2} \; \hat{v}_{1}
        - f \; \hat{v}_{1} \\
    0 &= \alpha_0 \; \hat{\Omega} \;
        \textrm{e}^{- ( \hat{v}_{1}^2 + \hat{v}_{2}^2) }
        - f \\
    \log \left( \frac{\alpha_0 \; \hat{\Omega}}{ f } \right) &=
        \hat{v}_{1}^2 + \hat{v}_{2}^2 \\
     \sqrt{ \hat{v}_{1}^2 + \hat{v}_{2}^2 } &=
        \sqrt{ \log \left( \frac{\alpha_0 \; \hat{\Omega}}{ f } \right)}
    \textrm{.}
\end{split}
\end{equation*}

\noindent So the relationship between traits when $\eta = 0$ is

$$
    \hat{v}_{1} =
    \sqrt{
        \log \left( \frac{\alpha_0 \; \hat{\Omega}}{ f } \right) -
        \hat{v}_{2}^2
    }
    \textrm{,}
$$

\noindent when $\hat{v}_{2}^2 \ge \log (\alpha_0 \hat{\Omega} / f)$.

We've shown solutions for when $v_1 = v_2$ and when $\eta = 0$, but
when one trait is zero but the other is not (and $\eta$ isn't necessarily 0),
we get the following (for $v_1 \ne 0$ and $v_2 = 0$):

\begin{equation}
\begin{split}
    0 &=
        \alpha_0 \; \hat{\Omega} \;
            \textrm{e}^{-\hat{v}_{1}^2 - \hat{v}_{2}^2} \; \hat{v}_{1}
        - f \; ( \hat{v}_{1} + \eta \; \hat{v}_{2} ) \\
    0 &=
        \alpha_0 \; \hat{\Omega} \;
            \textrm{e}^{-\hat{v}_{1}^2} \; \hat{v}_{1}
        - f \; \hat{v}_{1} \\
    0 &=
        \alpha_0 \; \hat{\Omega} \;
            \textrm{e}^{-\hat{v}_{1}^2} - f \\
    \frac{f}{\alpha_0 \; \hat{\Omega}} &=
         \frac{1}{\textrm{e}^{\hat{v}_{1}^2}} \\
    \hat{v}_{1} &= \sqrt{ \log \left( \frac{\alpha_0 \; \hat{\Omega}}{f} \right) }
\end{split}
\label{eq:two-traits-v1-nonzero-v2-zero}
\end{equation}







% =======================================================================================
% =======================================================================================
% =======================================================================================
% =======================================================================================








\subsection*{Scaled community size}

Fitness for the species is written as

$$
    F = \exp \left\{
        r_0 - f ( {v}_{1}^2 + 2 \eta {v}_{1} {v}_{2} + {v}_{2}^2 ) -
        \alpha_0 \, \textrm{e}^{ - {v}_{1}^2 - {v}_{2}^2 } \, \Omega
    \right\}
    \textrm{.}
$$


\noindent At equilibrium,

\begin{equation}
    0 = r_0 - f ( \hat{v}_{1}^2 + 2 \eta \hat{v}_{1} \hat{v}_{2} + \hat{v}_{2}^2 ) -
        \alpha_0 \, \textrm{e}^{ - {v}_{1}^2 - {v}_{2}^2 } \, \Omega
    \textrm{.}
\label{eq:two-traits-omega-equil-start}
\end{equation}


\noindent When $\hat{v}_1 = \hat{v}_2$, we can insert our answer from
\ref{eq:two-traits-v-eq5} to get

\begin{equation*}
\begin{split}
    0 &= r_0 - 2 \; f \; \hat{v}_{1}^2 ( 1 + \eta ) -
        \alpha_0 \textrm{e}^{ -2 \; \hat{v}_{1}^2 } \hat{\Omega} \\
    r_0 &= 2 f ( 1 + \eta ) \left[
        \frac{1}{2}
        \log \left( \frac{ \alpha_0 \; \hat{\Omega} }{ f \; ( 1 + \eta ) } \right)
    \right] +
        \alpha_0 \textrm{e}^{ -2 \;
            \left[
                \frac{1}{2} \log \left(
                    \frac{ \alpha_0 \; \hat{\Omega} }{ f \; ( 1 + \eta ) }
                \right)
            \right]
        } \hat{\Omega} \\
    r_0 &= f ( 1 + \eta ) \log \left(
        \frac{ \alpha_0 \; \hat{\Omega} }{ f \; ( 1 + \eta ) }
    \right) + f ( 1 + \eta ) \\
    \frac{  r_0 - f ( 1 + \eta ) }{ f ( 1 + \eta ) } &=
        \log \left(
        \frac{ \alpha_0 \; \hat{\Omega} }{ f \; ( 1 + \eta ) }
        \right) \\
    \hat{\Omega} &= \frac{ f \; ( 1 + \eta ) }{ \alpha_0 } \;
        \textrm{e}^{\frac{  r_0 }{ f ( 1 + \eta ) } - 1 }
    \textrm{.}
\end{split}
\end{equation*}

Thus, when $\hat{v}_1 = \hat{v}_2$,
$$
\hat{\Omega} = \frac{ f \; ( 1 + \eta ) }{ \alpha_0 } \;
        \textrm{e}^{\frac{ r_0 }{ f ( 1 + \eta ) } - 1 }
    \textrm{.}
$$


\noindent When $\eta = 0$,

$$
    \hat{\Omega} = \frac{ f }{ \alpha_0 } \; \textrm{e}^{\frac{ r_0 }{ f } - 1 }
    \textrm{.}
$$



If instead $v_1 = 0$ and $v_2 \ne 0$, we can start by simplifying equation
\ref{eq:two-traits-omega-equil-start}

\begin{equation*}
\begin{split}
    0 &= r_0 - f \hat{v}_{1}^2 -
        \alpha_0 \textrm{e}^{ - \hat{v}_{1}^2 } \hat{\Omega} \\
    \hat{\Omega} &= \frac{ r_0 - f \hat{v}_{1}^2 }{ \alpha_0 } \textrm{e}^{ \hat{v}_{1}^2 }
    \textrm{.}
\end{split}
\end{equation*}

Now we combine this with \ref{eq:two-traits-v1-nonzero-v2-zero}

\begin{equation*}
\begin{split}
    \hat{\Omega} &= \frac{ r_0 - f \log \left( \frac{\alpha_0 \hat{\Omega}}{f} \right) }{
        \alpha_0 } \left( \frac{\alpha_0 \; \hat{\Omega}}{f} \right) \\
    1 &= \frac{ r_0 }{ f } - \log \left( \frac{\alpha_0 \hat{\Omega}}{f} \right) \\
    \hat{\Omega} &= \frac{f}{\alpha_0} \textrm{e}^{\frac{r_0}{f} - 1}
    \textrm{.}
\end{split}
\end{equation*}









% =======================================================================================
% =======================================================================================
% =======================================================================================
% =======================================================================================








\subsection*{Differences in abundance among species}


> THIS SECTION NEEDS TO BE RE-DONE

Because the values of $\hat{\Omega}$ above depend only on state variables,
we can conclude that it should not differ among species.
We have also shown that $\sqrt{\hat{v}_1^2 + \hat{v}_2^2}$ should never
differ among species.
Thus, if we define $\hat{X} = \hat{v}_1^2 + \hat{v}_2^2$,
then for any two ($i$ and $j$) of the $n$ species,

\begin{equation*}
\begin{split}
    \hat{\Omega} &= \hat{N}_i + \textrm{e}^{-d \hat{X}} \hat{N}_j +
        \textrm{e}^{-d \hat{X}} \sum_{k \ne i,j}^{n}{ \hat{N}_k } \\
    \hat{\Omega} &= \hat{N}_j + \textrm{e}^{-d \hat{X}} \hat{N}_i +
        \textrm{e}^{-d \hat{X}} \sum_{k \ne i,j}^{n}{ \hat{N}_k }
    \textrm{.}
\end{split}
\end{equation*}


Now we compare them:

\begin{equation*}
\begin{split}
    \hat{N}_i + \textrm{e}^{-d \hat{X}} \hat{N}_j &=
        \hat{N}_j + \textrm{e}^{-d \hat{X}} \hat{N}_i \\
    \hat{N}_i \left( 1 - \textrm{e}^{-d \hat{X}} \right) &=
        \hat{N}_j \left( 1 - \textrm{e}^{-d \hat{X}} \right) \\
    \hat{N}_i &= \hat{N}_j
    \textrm{.}
\end{split}
\end{equation*}

\noindent So equilibrium abundances do not differ among species.











% =======================================================================================
% =======================================================================================
% =======================================================================================
% =======================================================================================








\subsection*{Combined solutions}

When $\hat{v}_1 = \hat{v}_2$,

\begin{equation}  \label{eq:two-traits-finals1}
\begin{split}
    \hat{\Omega} &= \frac{ f \; ( 1 + \eta ) }{ \alpha_0 } \;
        \textrm{e}^{\frac{  r_0 }{ f ( 1 + \eta ) } - 1 }
        \\
    \hat{v}_1 &= \sqrt{
        \frac{1}{2} \left( \frac{ r_0 }{ f (1 + \eta) } - 1 \right)
    }
    \textrm{.}
\end{split}
\end{equation}


\noindent When $\eta = 0$,

\begin{equation}  \label{eq:two-traits-finals2}
\begin{split}
    \hat{\Omega} &= \frac{ f }{ \alpha_0 } \; \textrm{e}^{\frac{ r_0 }{ f } - 1 } \\
    \sqrt{\hat{v}_1^2 + \hat{v}_2^2} &= \sqrt{ \frac{ r_0 }{ f } - 1 } \\
    \hat{v}_1 &= \sqrt{ \frac{ r_0  }{ f } - \hat{v}_2^2 - 1 }
    \textrm{.}
\end{split}
\end{equation}


\noindent When $v_1 \ne 0$, $v_2 = 0$, and $\eta \ne 0$,

\begin{equation}  \label{eq:two-traits-finals3}
\begin{split}
    \hat{\Omega} &= \frac{f}{\alpha_0} \textrm{e}^{\frac{r_0}{f} - 1} \\
    \hat{v}_1 &= \sqrt{ \frac{ r_0 }{ f } - 1 }
    \textrm{.}
\end{split}
\end{equation}

\noindent Thus, when $v_1 \ne 0$, $v_2 = 0$, and $\eta \ne 0$, the equilibrium
dynamics match that for when $\eta = 0$, which is not surprising given that
you cannot have a non-additive tradeoff when one trait has a zero value.


